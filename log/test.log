  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "datum_id" integer, "metric_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508001556')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mMetric Load (1.3ms)[0m  [1mSELECT "metrics".* FROM "metrics"[0m
  [1m[35mMetric Load (0.2ms)[0m  SELECT "metrics".* FROM "metrics" ORDER BY "metrics"."id" ASC LIMIT 1
  [1m[36mMetric Load (0.4ms)[0m  [1mSELECT "metrics".* FROM "metrics" ORDER BY "metrics"."id" ASC LIMIT 1[0m
  [1m[35mBounceRate Load (0.2ms)[0m  SELECT "metrics".* FROM "metrics" WHERE "metrics"."type" IN ('BounceRate')
  [1m[36mBounceRate Load (0.4ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."type" IN ('BounceRate') ORDER BY "metrics"."id" ASC LIMIT 1[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (2.8ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 00:41:27', '2014-05-08 00:41:27', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 00:41:27', '2014-05-08 00:41:27', 308529758)
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 00:41:27', '2014-05-08 00:41:27', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 00:41:27', '2014-05-08 00:41:27', 1014554637, 202341256, 436897111)[0m
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "metrics" ("description", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', '2014-05-08 00:41:27', '2014-05-08 00:41:27', 436897111)[0m
SQLite3::ConstraintException: metrics.type may not be NULL: INSERT INTO "metrics" ("description", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', '2014-05-08 00:41:27', '2014-05-08 00:41:27', 436897111)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 00:41:55', '2014-05-08 00:41:55', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 00:41:55', '2014-05-08 00:41:55', 308529758)
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 00:41:55', '2014-05-08 00:41:55', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 00:41:55', '2014-05-08 00:41:55', 1014554637, 202341256, 436897111)[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 00:41:55', '2014-05-08 00:41:55', 436897111)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("datum", "created_at", "updated_at", "id", "metric_id") VALUES ('d_00', '2014-05-08 00:41:55', '2014-05-08 00:41:55', 308529758, 436897111)[0m
SQLite3::SQLException: table recents has no column named datum: INSERT INTO "recents" ("datum", "created_at", "updated_at", "id", "metric_id") VALUES ('d_00', '2014-05-08 00:41:55', '2014-05-08 00:41:55', 308529758, 436897111)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 00:43:19', '2014-05-08 00:43:19', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 00:43:19', '2014-05-08 00:43:19', 308529758)
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 00:43:19', '2014-05-08 00:43:19', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 00:43:19', '2014-05-08 00:43:19', 1014554637, 202341256, 436897111)[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 00:43:19', '2014-05-08 00:43:19', 436897111)[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "recents" ("data", "created_at", "updated_at", "id", "metric_id") VALUES ('d_00', '2014-05-08 00:43:19', '2014-05-08 00:43:19', 308529758, 436897111)[0m
SQLite3::SQLException: table recents has no column named data: INSERT INTO "recents" ("data", "created_at", "updated_at", "id", "metric_id") VALUES ('d_00', '2014-05-08 00:43:19', '2014-05-08 00:43:19', 308529758, 436897111)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 00:43:58', '2014-05-08 00:43:58', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 00:43:58', '2014-05-08 00:43:58', 308529758)
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 00:43:58', '2014-05-08 00:43:58', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 00:43:58', '2014-05-08 00:43:58', 1014554637, 202341256, 436897111)[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 00:43:58', '2014-05-08 00:43:58', 436897111)[0m
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("datum", "created_at", "updated_at", "id", "metric_id") VALUES ('d_00', '2014-05-08 00:43:58', '2014-05-08 00:43:58', 851697593, 436897111)[0m
SQLite3::SQLException: table recents has no column named datum: INSERT INTO "recents" ("datum", "created_at", "updated_at", "id", "metric_id") VALUES ('d_00', '2014-05-08 00:43:58', '2014-05-08 00:43:58', 851697593, 436897111)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:13:45', '2014-05-08 01:13:45', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:13:45', '2014-05-08 01:13:45', 308529758)
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:13:45', '2014-05-08 01:13:45', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:13:45', '2014-05-08 01:13:45', 1014554637, 202341256, 436897111)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:13:45', '2014-05-08 01:13:45', 436897111)[0m
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:14:46', '2014-05-08 01:14:46', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:14:46', '2014-05-08 01:14:46', 308529758)
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:14:46', '2014-05-08 01:14:46', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:14:46', '2014-05-08 01:14:46', 1014554637, 202341256, 436897111)[0m
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:14:46', '2014-05-08 01:14:46', 436897111)[0m
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:14:55', '2014-05-08 01:14:55', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:14:55', '2014-05-08 01:14:55', 308529758)
  [1m[36m (100.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:14:55', '2014-05-08 01:14:55', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:14:55', '2014-05-08 01:14:55', 1014554637, 202341256, 436897111)[0m
  [1m[35m (644.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:14:56', '2014-05-08 01:14:56', 436897111)[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:14:56', '2014-05-08 01:14:56', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:14:56', '2014-05-08 01:14:56', 297983661, 436897111, 1014554637)
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36mCompany Load (0.2ms)[0m  [1mSELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT 1[0m
  [1m[35mMetric Load (0.2ms)[0m  SELECT "metrics".* FROM "metrics" ORDER BY "metrics"."id" ASC LIMIT 1
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:22:02', '2014-05-08 01:22:02', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:22:02', '2014-05-08 01:22:02', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:22:02', '2014-05-08 01:22:02', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:22:02', '2014-05-08 01:22:02', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:22:02', '2014-05-08 01:22:02', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:22:02', '2014-05-08 01:22:02', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:22:02', '2014-05-08 01:22:02', 297983661, 436897111, 1014554637)
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.3ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.3ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ?[0m  [["metric_id", 436897111]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:22:54', '2014-05-08 01:22:54', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:22:54', '2014-05-08 01:22:54', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:22:54', '2014-05-08 01:22:54', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:22:54', '2014-05-08 01:22:54', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:22:54', '2014-05-08 01:22:54', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:22:54', '2014-05-08 01:22:54', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:22:54', '2014-05-08 01:22:54', 297983661, 436897111, 1014554637)
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.3ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.3ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND (company_id = 308529758)[0m  [["metric_id", 436897111]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (3.5ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (0.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:24:26', '2014-05-08 01:24:26', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:24:26', '2014-05-08 01:24:26', 308529758)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:24:26', '2014-05-08 01:24:26', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:24:26', '2014-05-08 01:24:26', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:24:26', '2014-05-08 01:24:26', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:24:26', '2014-05-08 01:24:26', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:24:26', '2014-05-08 01:24:26', 297983661, 436897111, 1014554637)
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.3ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "recents"."company" = 308529758 LIMIT 1[0m  [["metric_id", 436897111]]
SQLite3::SQLException: no such column: recents.company: SELECT  "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "recents"."company" = 308529758 LIMIT 1
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (3.2ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:26:23', '2014-05-08 01:26:23', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:26:23', '2014-05-08 01:26:23', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:26:23', '2014-05-08 01:26:23', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:26:23', '2014-05-08 01:26:23', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:26:23', '2014-05-08 01:26:23', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:26:23', '2014-05-08 01:26:23', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:26:23', '2014-05-08 01:26:23', 297983661, 436897111, 1014554637)
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.4ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.3ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "recents"."company" = 308529758[0m  [["metric_id", 436897111]]
SQLite3::SQLException: no such column: recents.company: SELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "recents"."company" = 308529758
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (99.9ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (656.8ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (8.5ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (1.5ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:27:26', '2014-05-08 01:27:26', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:27:26', '2014-05-08 01:27:26', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:27:26', '2014-05-08 01:27:26', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:27:26', '2014-05-08 01:27:26', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:27:26', '2014-05-08 01:27:26', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:27:26', '2014-05-08 01:27:26', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:27:26', '2014-05-08 01:27:26', 297983661, 436897111, 1014554637)
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" WHERE "recents"."metric_id" = ?[0m  [["metric_id", 436897111]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (100.5ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (652.3ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:28:54', '2014-05-08 01:28:54', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:28:54', '2014-05-08 01:28:54', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:28:54', '2014-05-08 01:28:54', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:28:54', '2014-05-08 01:28:54', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:28:54', '2014-05-08 01:28:54', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:28:54', '2014-05-08 01:28:54', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:28:54', '2014-05-08 01:28:54', 297983661, 436897111, 1014554637)
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "recents"."company" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
SQLite3::SQLException: no such column: recents.company: SELECT  "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "recents"."company" = 308529758  ORDER BY "recents"."id" ASC LIMIT 1
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (100.5ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (652.0ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:30:09', '2014-05-08 01:30:09', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:30:09', '2014-05-08 01:30:09', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:30:09', '2014-05-08 01:30:09', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:30:09', '2014-05-08 01:30:09', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:30:09', '2014-05-08 01:30:09', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:30:09', '2014-05-08 01:30:09', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:30:09', '2014-05-08 01:30:09', 297983661, 436897111, 1014554637)
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "datum"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
SQLite3::SQLException: no such column: datum.company_id: SELECT  "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "datum"."company_id" = 308529758  ORDER BY "recents"."id" ASC LIMIT 1
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (2.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (2.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (2.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (2.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (2.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:31:29', '2014-05-08 01:31:29', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:31:29', '2014-05-08 01:31:29', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:31:29', '2014-05-08 01:31:29', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:31:29', '2014-05-08 01:31:29', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:31:29', '2014-05-08 01:31:29', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:31:29', '2014-05-08 01:31:29', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:31:29', '2014-05-08 01:31:29', 297983661, 436897111, 1014554637)
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
SQLite3::SQLException: no such column: data.company: SELECT  "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company" = 308529758  ORDER BY "recents"."id" ASC LIMIT 1
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (3.3ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (3.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:31:46', '2014-05-08 01:31:46', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:31:46', '2014-05-08 01:31:46', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:31:46', '2014-05-08 01:31:46', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:31:46', '2014-05-08 01:31:46', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:31:46', '2014-05-08 01:31:46', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:31:46', '2014-05-08 01:31:46', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:31:46', '2014-05-08 01:31:46', 297983661, 436897111, 1014554637)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.4ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (3.4ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.1ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:32:17', '2014-05-08 01:32:17', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:32:17', '2014-05-08 01:32:17', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:32:17', '2014-05-08 01:32:17', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:32:17', '2014-05-08 01:32:17', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:32:17', '2014-05-08 01:32:17', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:32:17', '2014-05-08 01:32:17', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:32:17', '2014-05-08 01:32:17', 297983661, 436897111, 1014554637)
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.3ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "datum"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
SQLite3::SQLException: no such column: datum.company_id: SELECT  "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "datum"."company_id" = 308529758  ORDER BY "recents"."id" ASC LIMIT 1
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (2.3ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.2ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:32:46', '2014-05-08 01:32:46', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:32:46', '2014-05-08 01:32:46', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:32:46', '2014-05-08 01:32:46', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:32:46', '2014-05-08 01:32:46', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', '2014-05-08 01:32:46', '2014-05-08 01:32:46', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:32:46', '2014-05-08 01:32:46', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:32:46', '2014-05-08 01:32:46', 297983661, 436897111, 1014554637)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.4ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35mDatum Load (0.2ms)[0m  SELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1  [["id", 192925850]]
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1[0m  [["id", 436897111]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (4.1ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (2.4ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (3.8ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (2.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (2.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (2.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (5.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (2.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:33:55', '2014-05-08 01:33:55', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:33:55', '2014-05-08 01:33:55', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:33:55', '2014-05-08 01:33:55', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:33:55', '2014-05-08 01:33:55', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "liftetime", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', 7, '2014-05-08 01:33:55', '2014-05-08 01:33:55', 436897111)[0m
SQLite3::SQLException: table metrics has no column named liftetime: INSERT INTO "metrics" ("description", "type", "liftetime", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', 7, '2014-05-08 01:33:55', '2014-05-08 01:33:55', 436897111)
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (3.1ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.7ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.5ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:34:13', '2014-05-08 01:34:13', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:34:13', '2014-05-08 01:34:13', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:34:13', '2014-05-08 01:34:13', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:34:13', '2014-05-08 01:34:13', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "lifetime", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', 7, '2014-05-08 01:34:13', '2014-05-08 01:34:13', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:34:13', '2014-05-08 01:34:13', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:34:13', '2014-05-08 01:34:13', 297983661, 436897111, 1014554637)
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.3ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35mDatum Load (0.2ms)[0m  SELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1  [["id", 192925850]]
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1[0m  [["id", 436897111]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" ORDER BY "recents"."id" ASC LIMIT 1[0m
  [1m[35mRecent Load (0.4ms)[0m  SELECT "recents".* FROM "recents" ORDER BY "recents"."id" ASC LIMIT 1
  [1m[36mRecent Load (0.6ms)[0m  [1mSELECT "recents".* FROM "recents" ORDER BY "recents"."id" ASC LIMIT 1[0m
  [1m[35mRecent Load (0.5ms)[0m  SELECT "recents".* FROM "recents" ORDER BY "recents"."id" ASC LIMIT 1
  [1m[36mRecent Load (0.5ms)[0m  [1mSELECT "recents".* FROM "recents" ORDER BY "recents"."id" ASC LIMIT 1[0m
  [1m[35mRecent Load (0.6ms)[0m  SELECT "recents".* FROM "recents" ORDER BY "recents"."id" ASC LIMIT 1
  [1m[36mRecent Load (0.4ms)[0m  [1mSELECT "recents".* FROM "recents" ORDER BY "recents"."id" ASC LIMIT 1[0m
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (2.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:37:21', '2014-05-08 01:37:21', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:37:21', '2014-05-08 01:37:21', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-05-08 01:37:21', '2014-05-08 01:37:21', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:37:21', '2014-05-08 01:37:21', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "lifetime", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', 7, '2014-05-08 01:37:21', '2014-05-08 01:37:21', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:37:21', '2014-05-08 01:37:21', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:37:21', '2014-05-08 01:37:21', 297983661, 436897111, 1014554637)
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35mDatum Load (0.2ms)[0m  SELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1  [["id", 192925850]]
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1[0m  [["id", 436897111]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.4ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (2.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (2.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (2.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (14.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (2.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (3.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (2.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:41:32', '2014-05-08 01:41:32', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:41:32', '2014-05-08 01:41:32', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "updated_at", "created_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-04-01', '2014-05-08 01:41:32', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:41:32', '2014-05-08 01:41:32', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "lifetime", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', 7, '2014-05-08 01:41:32', '2014-05-08 01:41:32', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:41:32', '2014-05-08 01:41:32', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:41:32', '2014-05-08 01:41:32', 297983661, 436897111, 1014554637)
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.5ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.3ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.3ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35mDatum Load (0.3ms)[0m  SELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1  [["id", 192925850]]
  [1m[36mMetric Load (0.3ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1[0m  [["id", 436897111]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (2.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:44:28', '2014-05-08 01:44:28', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:44:28', '2014-05-08 01:44:28', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "updated_at", "created_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-04-01', '2014-05-08 01:44:28', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:44:28', '2014-05-08 01:44:28', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "lifetime", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', 7, '2014-05-08 01:44:28', '2014-05-08 01:44:28', 436897111)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:44:28', '2014-05-08 01:44:28', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:44:28', '2014-05-08 01:44:28', 297983661, 436897111, 1014554637)
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.4ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.3ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (2.7ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (1.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (1.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (2.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:44:52', '2014-05-08 01:44:52', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:44:52', '2014-05-08 01:44:52', 308529758)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "data" ("value", "updated_at", "created_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-04-01', '2014-05-08 01:44:52', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:44:52', '2014-05-08 01:44:52', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "lifetime", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', 7, '2014-05-08 01:44:52', '2014-05-08 01:44:52', 436897111)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:44:52', '2014-05-08 01:44:52', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:44:52', '2014-05-08 01:44:52', 297983661, 436897111, 1014554637)
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.3ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.2ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35mDatum Load (0.2ms)[0m  SELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1  [["id", 192925850]]
  [1m[36mMetric Load (0.1ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1[0m  [["id", 436897111]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "data" ("company_id", "created_at", "previous_id", "updated_at", "value") VALUES (?, ?, ?, ?, ?)[0m  [["company_id", 308529758], ["created_at", Thu, 08 May 2014 01:44:52 UTC +00:00], ["previous_id", 192925850], ["updated_at", Thu, 08 May 2014 01:44:52 UTC +00:00], ["value", 79.0]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (2.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "companies" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.3ms)[0m  CREATE TABLE "data" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "previous_id" integer, "value" float, "company_id" integer) 
  [1m[36m (1.4ms)[0m  [1mCREATE TABLE "metrics" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "type" varchar(255) NOT NULL, "description" varchar(255), "lifetime" integer) [0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "recents" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime, "updated_at" datetime, "metric_id" integer, "datum_id" integer) 
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508005432')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140424015905')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507031643')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507032619')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507044531')
  [1m[36m (2.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507050142')[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507050439')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507054205')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507061702')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140507061809')[0m
  [1m[35m (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140507070333')
  [1m[36m (2.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140508001556')[0m
  [1m[35m (1.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140508004659')
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "companies"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('Failblog', '2014-05-08 01:46:42', '2014-05-08 01:46:42', 202341256)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "companies" ("name", "created_at", "updated_at", "id") VALUES ('BuzzFeed', '2014-05-08 01:46:42', '2014-05-08 01:46:42', 308529758)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "data"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "data" ("value", "updated_at", "created_at", "id", "company_id", "metric_id") VALUES (42.7, '2014-04-01', '2014-05-08 01:46:42', 192925850, 308529758, 436897111)
  [1m[36mFixture Insert (6.6ms)[0m  [1mINSERT INTO "data" ("value", "created_at", "updated_at", "id", "company_id", "metric_id") VALUES (24.7, '2014-05-08 01:46:42', '2014-05-08 01:46:42', 1014554637, 202341256, 436897111)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM "metrics"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "metrics" ("description", "type", "lifetime", "created_at", "updated_at", "id") VALUES ('It is a rating of the bounciness of the user', 'BounceRate', 7, '2014-05-08 01:46:42', '2014-05-08 01:46:42', 436897111)[0m
  [1m[35mFixture Delete (1.6ms)[0m  DELETE FROM "recents"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:46:42', '2014-05-08 01:46:42', 851697593, 436897111, 192925850)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "recents" ("created_at", "updated_at", "id", "metric_id", "datum_id") VALUES ('2014-05-08 01:46:42', '2014-05-08 01:46:42', 297983661, 436897111, 1014554637)
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
----------------------------
MetricTest: test_Raw_Metrics
----------------------------
  [1m[36mMetric Load (0.5ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.3ms)[0m  SELECT "companies".* FROM "companies" WHERE "companies"."id" = ? LIMIT 1  [["id", 308529758]]
  [1m[36mRecent Load (0.4ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35mDatum Load (0.3ms)[0m  SELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1  [["id", 192925850]]
  [1m[36mMetric Load (0.3ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1[0m  [["id", 436897111]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "data" ("company_id", "created_at", "previous_id", "updated_at", "value") VALUES (?, ?, ?, ?, ?)[0m  [["company_id", 308529758], ["created_at", Thu, 08 May 2014 01:46:43 UTC +00:00], ["previous_id", 192925850], ["updated_at", Thu, 08 May 2014 01:46:43 UTC +00:00], ["value", 72.0]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" ORDER BY "metrics"."id" ASC LIMIT 1[0m
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT 1
  [1m[36mRecent Load (3.8ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 202341256 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35mDatum Load (0.2ms)[0m  SELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1  [["id", 1014554637]]
  [1m[36mMetric Load (0.2ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1[0m  [["id", 436897111]]
  [1m[35mRecent Load (0.3ms)[0m  SELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 202341256 ORDER BY "recents"."id" ASC LIMIT 1  [["metric_id", 436897111]]
  [1m[36mDatum Load (0.2ms)[0m  [1mSELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1[0m  [["id", 1014554637]]
  [1m[35mMetric Load (0.2ms)[0m  SELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1  [["id", 436897111]]
  [1m[36mMetric Load (0.3ms)[0m  [1mSELECT "metrics".* FROM "metrics" ORDER BY "metrics"."id" ASC LIMIT 1[0m
  [1m[36mMetric Load (0.3ms)[0m  [1mSELECT "metrics".* FROM "metrics" ORDER BY "metrics"."id" ASC LIMIT 1[0m
  [1m[35mCompany Load (0.2ms)[0m  SELECT "companies".* FROM "companies" ORDER BY "companies"."id" ASC LIMIT 1
  [1m[36mRecent Load (1.6ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 202341256 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35mDatum Load (0.5ms)[0m  SELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1  [["id", 1014554637]]
  [1m[36mMetric Load (0.6ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1[0m  [["id", 436897111]]
  [1m[35mCompany Load (0.5ms)[0m  SELECT "companies".* FROM "companies"
  [1m[36mRecent Load (0.6ms)[0m  [1mSELECT "recents".* FROM "recents" INNER JOIN "data" ON "data"."id" = "recents"."datum_id" WHERE "recents"."metric_id" = ? AND "data"."company_id" = 308529758 ORDER BY "recents"."id" ASC LIMIT 1[0m  [["metric_id", 436897111]]
  [1m[35mDatum Load (0.1ms)[0m  SELECT "data".* FROM "data" WHERE "data"."id" = ? ORDER BY "data"."id" ASC LIMIT 1  [["id", 192925850]]
  [1m[36mMetric Load (0.1ms)[0m  [1mSELECT "metrics".* FROM "metrics" WHERE "metrics"."id" = ? ORDER BY "metrics"."id" ASC LIMIT 1[0m  [["id", 436897111]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "data" ("company_id", "created_at", "previous_id", "updated_at", "value") VALUES (?, ?, ?, ?, ?)[0m  [["company_id", 308529758], ["created_at", Thu, 08 May 2014 01:56:22 UTC +00:00], ["previous_id", 192925850], ["updated_at", Thu, 08 May 2014 01:56:22 UTC +00:00], ["value", 43.0]]
  [1m[35m (99.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
