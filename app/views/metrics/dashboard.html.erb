<div class="jumbotron">
	<div class="container">
		<h1 color="blue">VizAnalytics</h1>
		<p>Making social bench-marking and web performance analysis simple</p>
		<p><a href="metrics/details" class="btn btn-primary btn-lg" role="button">See all metrics</a></p>
	</div>
</div>

<h2>User Engagement</h2>

<div class="row gauge-row">
	<div class="col-xs-4"><div id='g1'></div></div>
	<div class="col-xs-4"><div id='g2'></div></div>
	<div class="col-xs-4"><div id='g3'></div></div>
</div>

<h2>Reader Acquisition</h2>

<div class="row gauge-row">
	<div class="col-xs-4"><div id='g4'></div></div>
	<div class="col-xs-4"><div id='g5'></div></div>
	<div class="col-xs-4"><div id='g6'></div></div>
</div>

<table class="table table-striped">
	<tr>
		<td><strong>Bounce Rate</strong></td>
		<td><strong>Pages Per Visit</strong></td>
		<td><strong>Percentage Loyal Visitors</strong></td>
		<td></td>
	</tr>
	<tr>
		<td><strong>Percentage of Views via Search</strong></td>
		<td><strong>Percentage of Views via Social</strong></td>
		<td><strong>Percentage of Views via Referral</strong></td>
		<td><strong>Percentage of Views via Direct Referral</strong></td>
	</tr>
	<tr>
		<td><strong>Percentage of Views on Desktop</strong></td>
		<td><strong>Percentage of Views on Mobile</strong></td>
		<td><strong>Percentage of Views on Tablet</strong></td>
		<td></td>
	</tr>
</table>

<% content_for :head do %>

<script>
var g1,g2,g3,g4,g5,g6;

window.onload=function(){

	var color = ["#990000","#ffa500","#008000"]

	var g1 = new JustGage({ id: "g1", value: getRandomInt(0, 100), min: 0, max: 100, title: "Expected Bounce Rate", label: "", levelColors: color });
	var g2 = new JustGage({ id: "g2", value: getRandomInt(0, 100), min: 0, max: 100, title: "Expected Pages/Visit", label: "", levelColors: color });
	var g3 = new JustGage({ id: "g3", value: getRandomInt(0, 100), min: 0, max: 100, title: "Expected % New Visitors", label:"", levelColors: color });
	var g4 = new JustGage({ id: "g4", value: getRandomInt(0, 100), min: 0, max: 100, title: "% View Search", label: "", levelColors: color });
	var g5 = new JustGage({ id: "g5", value: getRandomInt(0, 100), min: 0, max: 100, title: "% View Social", label: "", levelColors: color });
	var g6 = new JustGage({ id: "g6", value: getRandomInt(0, 100), min: 0, max: 100, title: "% View Referral", label: "", levelColors: color });

	setInterval(function() {
		g1.refresh(getRandomInt(0, 100));
		g2.refresh(getRandomInt(34, 65));          
		g3.refresh(getRandomInt(66, 100));
		g4.refresh(getRandomInt(66, 100));
		g5.refresh(getRandomInt(66, 100));
		g6.refresh(getRandomInt(66, 100));
	}, 2500);
}
</script>

<% end %>